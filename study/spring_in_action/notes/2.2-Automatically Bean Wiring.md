
# **自动装配Bean**

自动装配Bean，你首先需要定义Bean，然后定义组件扫描，最后定义自动装配。

Spring自动装配需要实现两个步骤：

■ 组件扫描(Component scanning)：Spring自动发现Application Context中需要被创建的bean

■ 自动装配(Autowiring)：Spring会自动解决bean之间的依赖

## **操作步骤**

### 步骤一: **创建需要被发现的beans**

``` java
package cn.org.aris.java.springinaction.chap2.autowiringbeans;

/**
 * 压缩碟片(光盘)接口
 * @author ArisHu
 */
public interface CompactDisc {
    void play();
}
```

``` java
package cn.org.aris.java.springinaction.chap2.autowiringbeans;

import org.springframework.stereotype.Component;

/**
 * 将当前类指定为Spring组件, 表明需要将这个bean添加到Spring容器中
 * @author ArisHu
 */
@Component(value="sgtPeppers")
//Component("sgtPeppers")
public class SgtPeppers implements CompactDisc {
    private String title = "Sgt. Pepper's Lonely Hearts Club Band";
    private String artist = "The Beatles";

    @Override
    public void play() {
        System.out.println("Playing " + title + " by " + artist);
    }
}
```

### 步骤二: **创建配置类**

``` java
package cn.org.aris.java.springinaction.chap2.autowiringbeans;

import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;

@Configuration
@ComponentScan(basePackages="autowiringbeans")
public class CDPlayerConfig {
}
```

### 步骤三: **使用自动装配**

``` java
package cn.org.aris.java.springinaction.chap2.autowiringbeans;

import static org.junit.Assert.assertNotNull;

import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.test.context.ContextConfiguration;
import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;

@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(classes=CDPlayerConfig.class)
public class CDPlayerTest {
    @Autowired
    private CompactDisc cd;

    @Test
    public void cdShouldNotBeNull() {
        assertNotNull(cd);
    }
}

```

## ****